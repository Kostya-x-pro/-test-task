(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=["de","en","es","fr","ja","pl"],t="/-test-task";window.addEventListener("error",(e=>{console.error("Global error:",e.error)})),async function(){const n=function(){const t=new URLSearchParams(window.location.search).get("lang");if(t&&e.includes(t))return t;const n=navigator.language.substring(0,2);return e.includes(n)?n:"en"}();console.log("Selected language:",n);const o=await async function(e){try{const n=await fetch(`${t}/assets/locales/${e}.json`);if(!n.ok)throw new Error("Network response was not ok");return await n.json()}catch(e){console.error("Error loading translations:",e);try{const e=await fetch(`${t}/assets/locales/en.json`);return await e.json()}catch(e){return console.error("Failed to load fallback English translations:",e),{}}}}(n);console.log("Loaded translations:",o),function(e){e&&"object"==typeof e?(document.documentElement.lang=e.langCode||"en",document.querySelectorAll("[data-i18n]").forEach((t=>{const n=t.getAttribute("data-i18n");void 0!==e[n]&&("INPUT"===t.tagName||"TEXTAREA"===t.tagName?t.value=e[n]:t.innerHTML=e[n].replace(/\n/g,"<br>"))})),document.querySelectorAll(".feature-text, .pricing-info p, .pricing-details p, .offer-badge").forEach((e=>{const t=window.getComputedStyle(e);let n=parseFloat(t.fontSize);const o=parseFloat(t.lineHeight),a=n;for(;e.scrollHeight>e.clientHeight&&n>10;)n-=.5,e.style.fontSize=`${n}px`,e.style.lineHeight=o*(n/a)+"px"}))):console.error("Invalid translations data:",e)}(o)}()}))})();