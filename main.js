(()=>{"use strict";document.addEventListener("DOMContentLoaded",(async function(){const o=["de","en","es","fr","ja","pl"],n=window.location.pathname.includes("/-test-task")?"/-test-task":"";try{const e=function(){console.log("Detecting language...");const n=new URLSearchParams(window.location.search).get("lang");if(n&&o.includes(n))return console.log("Language from URL param:",n),n;const e=navigator.language.substring(0,2);return console.log("Browser language:",e),o.includes(e)?e:"en"}(),t=await async function o(e){console.log(`Loading translations for ${e}...`);const t=`${n}/assets/locales/${e}.json`;console.log("Translation URL:",t);try{const o=await fetch(t);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);const n=await o.json();return console.log("Successfully loaded translations:",n),n}catch(n){return console.error("Error loading translations:",n),"en"!==e?(console.log("Trying to load fallback English translations..."),o("en")):(console.error("Failed to load even English translations"),{})}}(e);!function(o){o&&"object"==typeof o?(console.log("Applying translations:",o),document.documentElement.lang=o.langCode||"en",document.querySelectorAll("[data-i18n]").forEach((n=>{const e=n.getAttribute("data-i18n");void 0!==o[e]?(console.log(`Updating element with key ${e}`),"INPUT"===n.tagName||"TEXTAREA"===n.tagName?n.value=o[e]:n.innerHTML=o[e].replace(/\n/g,"<br>")):console.warn(`Translation key ${e} not found`)})),console.log("Adjusting text sizes..."),document.querySelectorAll(".feature-text, .pricing-info p, .pricing-details p, .offer-badge").forEach((o=>{const n=window.getComputedStyle(o);let e=parseFloat(n.fontSize);const t=e;for(;o.scrollHeight>o.clientHeight&&e>10;)e-=.5,o.style.fontSize=`${e}px`;console.log(`Adjusted font size for ${o.className}: ${t}px -> ${e}px`)}))):console.error("Invalid translations data:",o)}(t)}catch(o){console.error("Initialization error:",o)}}))})();