(()=>{"use strict";document.addEventListener("DOMContentLoaded",(async function(){const t=["de","en","es","fr","ja","pt"],n="en",e=window.location.pathname.includes("/-test-task")?"/-test-task":"";try{const a=function(){const e=new URLSearchParams(window.location.search).get("lang");if(e&&t.includes(e))return e;const a=navigator.languages?[...navigator.languages]:[navigator.language||"en"];for(const n of a){const e=n.toLowerCase().split("-")[0];if(t.includes(e))return e}return n}(),o=await async function t(a){const o=`${e}/assets/locales/${a}.json`;try{const t=await fetch(o);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(e){return console.error(`Error loading ${a} translations:`,e),a!==n?t(n):{}}}(a);!function(t){t&&"object"==typeof t?document.querySelectorAll("[data-i18n]").forEach((n=>{const e=n.getAttribute("data-i18n");void 0!==t[e]&&(n.innerHTML=t[e].replace(/\n/g,"<br>").replace("{{price}}",n.textContent.match(/\$\d+\.\d+/)?.[0]||""))})):console.error("Invalid translations data:",t)}(o)}catch(t){console.error("Initialization error:",t)}}))})();